<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù…Ø´Ø§Ø±ÙƒØ© Ø§Ù„Ù…Ù†ØªØ¬ - ÙˆØ³ÙŠÙ„ Ù…Ø§Ø±ÙƒØª</title>
    <meta name="description" content="Ø§ÙƒØªØ´Ù Ù‡Ø°Ø§ Ø§Ù„Ù…Ù†ØªØ¬ Ø§Ù„Ø±Ø§Ø¦Ø¹ ÙÙŠ Ù…ØªØ¬Ø± ÙˆØ³ÙŠÙ„ Ù…Ø§Ø±ÙƒØª">
    
    <!-- Open Graph Meta Tags -->
    <meta property="og:title" content="ÙˆØ³ÙŠÙ„ Ù…Ø§Ø±ÙƒØª - Ø£ÙØ¶Ù„ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø¨Ø£ÙØ¶Ù„ Ø§Ù„Ø£Ø³Ø¹Ø§Ø±">
    <meta property="og:description" content="Ø§ÙƒØªØ´Ù Ø£ÙØ¶Ù„ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª ÙÙŠ Ù…ØªØ¬Ø± ÙˆØ³ÙŠÙ„ Ù…Ø§Ø±ÙƒØª">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://wacelmarkt.com">
    <meta property="og:image" content="https://wacelmarkt.com/images/logo.png">
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="styles/style.css">
    
    <style>
        /* Ø£Ù†Ù…Ø§Ø· Ø®Ø§ØµØ© Ø¨ØµÙØ­Ø© Ø§Ù„Ù…Ø´Ø§Ø±ÙƒØ© */
        .share-page {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px 0;
        }
        
        .share-container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 0 20px;
        }
        
        .share-card {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            border-radius: 24px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.2);
            overflow: hidden;
            margin-top: 80px;
            border: 1px solid rgba(255, 255, 255, 0.3);
        }
        
        .product-share-header {
            padding: 50px 40px;
            background: linear-gradient(135deg, #6366f1, #4f46e5);
            color: white;
            text-align: center;
            position: relative;
        }
        
        .share-back-btn {
            position: absolute;
            top: 25px;
            right: 25px;
            background: rgba(255, 255, 255, 0.2);
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 50px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 8px;
            font-weight: 600;
            transition: all 0.3s ease;
            text-decoration: none;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.3);
        }
        
        .share-back-btn:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: translateX(-5px);
        }
        
        .share-product-image {
            width: 180px;
            height: 180px;
            margin: 0 auto 25px;
            border-radius: 24px;
            background: rgba(255, 255, 255, 0.2);
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
            border: 4px solid rgba(255, 255, 255, 0.3);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        }
        
        .share-product-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .share-product-image i {
            font-size: 4rem;
            color: rgba(255, 255, 255, 0.8);
        }
        
        .share-product-info h1 {
            font-size: 2.5rem;
            margin-bottom: 15px;
            color: white;
            font-weight: 700;
            text-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
        }
        
        .share-product-category {
            background: rgba(255, 255, 255, 0.2);
            color: white;
            padding: 10px 20px;
            border-radius: 50px;
            font-size: 1rem;
            display: inline-block;
            margin-bottom: 20px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.3);
        }
        
        .share-product-description {
            font-size: 1.2rem;
            line-height: 1.7;
            opacity: 0.95;
            max-width: 700px;
            margin: 0 auto;
        }
        
        .share-product-details {
            padding: 50px 40px;
        }
        
        .share-price-section {
            text-align: center;
            margin-bottom: 40px;
            padding: 30px;
            background: linear-gradient(135deg, #f8fafc, #e2e8f0);
            border-radius: 20px;
            border: 2px solid #e2e8f0;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
        }
        
        .current-price {
            font-size: 3.5rem;
            font-weight: bold;
            color: #10b981;
            display: block;
            text-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        }
        
        .original-price {
            font-size: 1.8rem;
            color: #94a3b8;
            text-decoration: line-through;
            margin: 0 15px;
        }
        
        .discount-badge {
            background: linear-gradient(135deg, #f59e0b, #eab308);
            color: white;
            padding: 12px 24px;
            border-radius: 25px;
            font-size: 1.3rem;
            font-weight: bold;
            display: inline-block;
            margin-top: 15px;
            box-shadow: 0 4px 15px rgba(245, 158, 11, 0.3);
        }
        
        .share-features {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 25px;
            margin: 40px 0;
        }
        
        .feature-item {
            text-align: center;
            padding: 30px 20px;
            background: white;
            border-radius: 16px;
            border: 1px solid #e2e8f0;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
        }
        
        .feature-item:hover {
            transform: translateY(-8px);
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.15);
        }
        
        .feature-icon {
            width: 70px;
            height: 70px;
            background: linear-gradient(135deg, #6366f1, #4f46e5);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 20px;
            color: white;
            font-size: 1.8rem;
            box-shadow: 0 8px 20px rgba(99, 102, 241, 0.3);
        }
        
        .share-actions {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
            gap: 20px;
            margin: 40px 0;
        }
        
        .share-btn {
            padding: 18px 25px;
            border: none;
            border-radius: 15px;
            cursor: pointer;
            font-weight: 600;
            font-size: 1.1rem;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 12px;
            text-decoration: none;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }
        
        .btn-whatsapp {
            background: linear-gradient(135deg, #25D366, #128C7E);
            color: white;
        }
        
        .btn-facebook {
            background: linear-gradient(135deg, #1877F2, #0D6EFD);
            color: white;
        }
        
        .btn-twitter {
            background: linear-gradient(135deg, #1DA1F2, #0D8BD9);
            color: white;
        }
        
        .btn-copy {
            background: linear-gradient(135deg, #6366f1, #4f46e5);
            color: white;
        }
        
        .btn-visit-store {
            background: linear-gradient(135deg, #10b981, #059669);
            color: white;
            grid-column: 1 / -1;
            font-size: 1.2rem;
            padding: 20px;
        }
        
        .share-btn:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
            filter: brightness(1.1);
        }
        
        .share-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 20px;
            margin: 40px 0;
            padding: 30px;
            background: linear-gradient(135deg, #f8fafc, #e2e8f0);
            border-radius: 20px;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
        }
        
        .stat-item {
            text-align: center;
            padding: 20px;
        }
        
        .stat-number {
            font-size: 2.5rem;
            font-weight: bold;
            color: #6366f1;
            display: block;
            text-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        }
        
        .stat-label {
            color: #64748b;
            font-size: 1rem;
            font-weight: 600;
        }
        
        .product-specifications {
            margin: 40px 0;
            padding: 35px;
            background: white;
            border-radius: 20px;
            border: 1px solid #e2e8f0;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.08);
        }
        
        .specs-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin-top: 25px;
        }
        
        .spec-item {
            display: flex;
            justify-content: space-between;
            padding: 15px 0;
            border-bottom: 1px solid #f1f5f9;
            transition: all 0.3s ease;
        }
        
        .spec-item:hover {
            background: #f8fafc;
            border-radius: 8px;
            padding: 15px;
        }
        
        .spec-item:last-child {
            border-bottom: none;
        }
        
        .spec-key {
            font-weight: 700;
            color: #1e293b;
        }
        
        .spec-value {
            color: #475569;
            font-weight: 500;
        }
        
        .loading-state, .error-state {
            text-align: center;
            padding: 120px 20px;
            background: white;
            border-radius: 24px;
            margin-top: 80px;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.1);
        }
        
        .loading-state i, .error-state i {
            font-size: 4rem;
            margin-bottom: 25px;
        }
        
        .loading-state i {
            color: #6366f1;
        }
        
        .error-state i {
            color: #ef4444;
        }
        
        @media (max-width: 768px) {
            .share-product-header {
                padding: 40px 25px;
            }
            
            .share-product-info h1 {
                font-size: 2rem;
            }
            
            .current-price {
                font-size: 2.8rem;
            }
            
            .share-features {
                grid-template-columns: 1fr;
            }
            
            .share-actions {
                grid-template-columns: 1fr;
            }
            
            .share-stats {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .share-product-details {
                padding: 40px 25px;
            }
        }
    </style>
</head>
<body class="share-page">
    <!-- Ø§Ù„Ø´Ø±ÙŠØ· Ø§Ù„Ø¹Ù„ÙˆÙŠ -->
    <nav class="top-navbar">
        <div class="nav-container">
            <div class="logo-section">
                <a href="index.html" style="text-decoration: none;">
                    <h1 class="logo"><i class="fas fa-shopping-bag"></i> ÙˆØ³ÙŠÙ„ Ù…Ø§Ø±ÙƒØª</h1>
                </a>
            </div>
        </div>
    </nav>

    <!-- Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ù…Ø´Ø§Ø±ÙƒØ© -->
    <div class="share-container">
        <div id="shareContent">
            <div class="loading-state">
                <i class="fas fa-spinner fa-spin"></i>
                <h2>Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ù†ØªØ¬...</h2>
                <p>ÙŠØ±Ø¬Ù‰ Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø±</p>
            </div>
        </div>
    </div>

    <script>
        // Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ù…Ø¹Ø±Ù‘Ù Ø§Ù„Ù…Ù†ØªØ¬ Ù…Ù† URL
        const urlParams = new URLSearchParams(window.location.search);
        const productId = urlParams.get('product');
        let currentProduct = null;

        // Ø¨ÙŠØ§Ù†Ø§Øª ØªØ¬Ø±ÙŠØ¨ÙŠØ© Ù„Ù„Ù…Ù†ØªØ¬Ø§Øª - Ø§Ù„Ø¥ØµØ¯Ø§Ø± Ø§Ù„Ù…ØµØ­Ø­ (Ù…ØµÙÙˆÙØ©)
        const sampleProducts = [
            {
                id: '1',
                name: 'Ø³Ø§Ø¹Ø© Ø°ÙƒÙŠØ©',
                description: 'Ø³Ø§Ø¹Ø© Ø°ÙƒÙŠØ© Ù…ØªØ·ÙˆØ±Ø© Ù…Ø¹ Ø´Ø§Ø´Ø© AMOLED ÙˆÙ…Ù‚Ø§ÙˆÙ…Ø© Ù„Ù„Ù…Ø§Ø¡ØŒ ØªØªØ¨Ø¹ Ø§Ù„Ù„ÙŠØ§Ù‚Ø© Ø§Ù„Ø¨Ø¯Ù†ÙŠØ© ÙˆØ¥Ø´Ø¹Ø§Ø±Ø§Øª Ø§Ù„Ù‡Ø§ØªÙ.',
                price: 299.99,
                originalPrice: 399.99,
                category: 'electronics',
                images: ['https://via.placeholder.com/300x300?text=Ø³Ø§Ø¹Ø©+Ø°ÙƒÙŠØ©'],
                stock: 15,
                rating: 4.5,
                sales: 150,
                featured: true,
                trending: true,
                discount: 25,
                brand: 'Samsung',
                specifications: {
                    'Ø§Ù„Ø´Ø§Ø´Ø©': '1.3 Ø¨ÙˆØµØ© AMOLED',
                    'Ø§Ù„Ø¨Ø·Ø§Ø±ÙŠØ©': '7 Ø£ÙŠØ§Ù…',
                    'Ø§Ù„Ù…Ù‚Ø§ÙˆÙ…Ø©': 'IP68',
                    'Ø§Ù„Ø´Ø­Ù†': 'Ù„Ø§Ø³Ù„ÙƒÙŠ',
                    'Ø§Ù„ØªØ·Ø¨ÙŠÙ‚Ø§Øª': 'iOS & Android'
                },
                createdAt: new Date('2024-03-15').toISOString(),
                updatedAt: new Date('2024-03-15').toISOString()
            },
            {
                id: '2',
                name: 'Ø­Ø°Ø§Ø¡ Ø±ÙŠØ§Ø¶ÙŠ',
                description: 'Ø­Ø°Ø§Ø¡ Ø±ÙŠØ§Ø¶ÙŠ Ù…Ø±ÙŠØ­ Ù…ØµÙ…Ù… Ù„Ù„Ø±ÙƒØ¶ ÙˆØ§Ù„ØªÙ…Ø§Ø±ÙŠÙ† Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ©ØŒ ÙŠÙˆÙØ± Ø¯Ø¹Ù…Ø§Ù‹ Ù…Ù…ØªØ§Ø²Ø§Ù‹ Ù„Ù„Ù‚Ø¯Ù….',
                price: 199.99,
                originalPrice: 249.99,
                category: 'sports',
                images: ['https://via.placeholder.com/300x300?text=Ø­Ø°Ø§Ø¡+Ø±ÙŠØ§Ø¶ÙŠ'],
                stock: 30,
                rating: 4.2,
                sales: 89,
                trending: true,
                discount: 20,
                brand: 'Nike',
                specifications: {
                    'Ø§Ù„Ù…Ø§Ø¯Ø©': 'Ø´Ø¨ÙƒØ© Ù‚Ø§Ø¨Ù„Ø© Ù„Ù„ØªÙ†ÙØ³',
                    'Ø§Ù„Ù†Ø¹Ù„': 'Ø±ØºÙˆØ© Ø§Ù„Ø°Ø§ÙƒØ±Ø©',
                    'Ø§Ù„Ù…Ù‚Ø§Ø³Ø§Øª': '38-45',
                    'Ø§Ù„Ù„ÙˆÙ†': 'Ø£Ø³ÙˆØ¯ ÙˆØ£Ø¨ÙŠØ¶',
                    'Ø§Ù„ÙˆØ²Ù†': '280 Ø¬Ø±Ø§Ù…'
                },
                createdAt: new Date('2024-03-14').toISOString(),
                updatedAt: new Date('2024-03-14').toISOString()
            }
        ];

        // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ù†ØªØ¬ - Ø§Ù„Ø¥ØµØ¯Ø§Ø± Ø§Ù„Ù…ØµØ­Ø­ Ø¨Ø§Ù„ÙƒØ§Ù…Ù„
        async function loadSharedProduct() {
            try {
                if (!productId) {
                    throw new Error('Ù„Ù… ÙŠØªÙ… ØªØ­Ø¯ÙŠØ¯ Ù…Ù†ØªØ¬ Ù„Ù„Ù…Ø´Ø§Ø±ÙƒØ©');
                }
                
                console.log("ğŸ”„ Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ù†ØªØ¬:", productId);
                
                let product = null;

                // Ù…Ø­Ø§ÙˆÙ„Ø© Ø¬Ù„Ø¨ Ø§Ù„Ù…Ù†ØªØ¬ Ù…Ù† Firebase
                if (window.firebaseDb && typeof firebaseDb.collection === 'function') {
                    try {
                        const doc = await firebaseDb.collection("products").doc(productId).get();
                        if (doc.exists) {
                            product = {
                                id: doc.id,
                                ...doc.data()
                            };
                            console.log("âœ… ØªÙ… ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ù†ØªØ¬ Ù…Ù† Firebase:", product.name);
                        }
                    } catch (firebaseError) {
                        console.error("âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„Ù…Ù†ØªØ¬ Ù…Ù† Firebase:", firebaseError);
                    }
                }

                // Ø¥Ø°Ø§ Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ø§Ù„Ù…Ù†ØªØ¬ ÙÙŠ FirebaseØŒ Ø§Ø¨Ø­Ø« ÙÙŠ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ØªØ¬Ø±ÙŠØ¨ÙŠØ©
                if (!product && sampleProducts && Array.isArray(sampleProducts)) {
                    product = sampleProducts.find(p => p.id === productId);
                    if (product) {
                        console.log("ğŸ“ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ØªØ¬Ø±ÙŠØ¨ÙŠØ© Ù„Ù„Ù…Ù†ØªØ¬:", product.name);
                    }
                }

                if (!product) {
                    throw new Error('Ø§Ù„Ù…Ù†ØªØ¬ ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯ ÙÙŠ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª');
                }

                currentProduct = product;
                
                // ØªØ­Ø¯ÙŠØ« Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ØªØ¹Ø±ÙŠÙ Ù„Ù„SEO
                updateMetaTags(product);
                
                // Ø¹Ø±Ø¶ Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ù…Ø´Ø§Ø±ÙƒØ©
                displayShareContent(product);

            } catch (error) {
                console.error('âŒ Ø®Ø·Ø£ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ù†ØªØ¬:', error);
                showErrorState(error.message);
            }
        }

        // ØªØ­Ø¯ÙŠØ« Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ØªØ¹Ø±ÙŠÙ
        function updateMetaTags(product) {
            // ØªØ­Ø¯ÙŠØ« Ø¹Ù†ÙˆØ§Ù† Ø§Ù„ØµÙØ­Ø©
            document.title = `${product.name} - ÙˆØ³ÙŠÙ„ Ù…Ø§Ø±ÙƒØª`;
            
            // ØªØ­Ø¯ÙŠØ« ÙˆØµÙ Ø§Ù„ØµÙØ­Ø©
            const metaDescription = document.querySelector('meta[name="description"]');
            if (metaDescription) {
                metaDescription.content = `${product.description} - ØªØ³ÙˆÙ‚ Ø§Ù„Ø¢Ù† Ù…Ù† ÙˆØ³ÙŠÙ„ Ù…Ø§Ø±ÙƒØª`;
            }
            
            // ØªØ­Ø¯ÙŠØ« Open Graph
            updateMetaProperty('og:title', product.name);
            updateMetaProperty('og:description', product.description);
            updateMetaProperty('og:url', window.location.href);
            
            if (product.images && product.images.length > 0) {
                updateMetaProperty('og:image', product.images[0]);
            }
        }
        
        function updateMetaProperty(property, content) {
            let meta = document.querySelector(`meta[property="${property}"]`);
            if (!meta) {
                meta = document.createElement('meta');
                meta.setAttribute('property', property);
                document.head.appendChild(meta);
            }
            meta.setAttribute('content', content);
        }

        // Ø¹Ø±Ø¶ Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ù…Ø´Ø§Ø±ÙƒØ©
        function displayShareContent(product) {
            const shareUrl = window.location.href;
            const shareText = `ØªÙØ¶Ù„ Ø¨ØªÙØ­Øµ "${product.name}" - ${product.description.substring(0, 100)}...`;
            
            const productImage = product.images && product.images.length > 0 
                ? `<img src="${product.images[0]}" alt="${product.name}">`
                : `<i class="${getProductIcon(product.category)}"></i>`;
            
            const originalPriceHtml = product.originalPrice 
                ? `<span class="original-price">${product.originalPrice} Ø±.Ø³</span>`
                : '';
            
            const discountBadge = product.discount 
                ? `<div class="discount-badge">ØªØ®ÙÙŠØ¶ ${product.discount}%</div>`
                : '';
            
            const specificationsHtml = product.specifications ? `
                <div class="product-specifications">
                    <h3><i class="fas fa-list-alt"></i> Ù…ÙˆØ§ØµÙØ§Øª Ø§Ù„Ù…Ù†ØªØ¬</h3>
                    <div class="specs-grid">
                        ${Object.entries(product.specifications).map(([key, value]) => `
                            <div class="spec-item">
                                <span class="spec-key">${key}</span>
                                <span class="spec-value">${value}</span>
                            </div>
                        `).join('')}
                    </div>
                </div>
            ` : '';

            document.getElementById('shareContent').innerHTML = `
                <div class="share-card">
                    <div class="product-share-header">
                        <a href="index.html" class="share-back-btn">
                            <i class="fas fa-arrow-right"></i>
                            Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ù…ØªØ¬Ø±
                        </a>
                        
                        <div class="share-product-image">
                            ${productImage}
                        </div>
                        
                        <div class="share-product-info">
                            <h1>${product.name}</h1>
                            <div class="share-product-category">${getCategoryName(product.category)}</div>
                            <p class="share-product-description">${product.description}</p>
                        </div>
                    </div>
                    
                    <div class="share-product-details">
                        <div class="share-price-section">
                            <span class="current-price">${product.price} Ø±.Ø³</span>
                            ${originalPriceHtml}
                            ${discountBadge}
                        </div>
                        
                        <div class="share-features">
                            <div class="feature-item">
                                <div class="feature-icon">
                                    <i class="fas fa-shipping-fast"></i>
                                </div>
                                <h4>Ø´Ø­Ù† Ø³Ø±ÙŠØ¹</h4>
                                <p>ØªÙˆØµÙŠÙ„ Ø®Ù„Ø§Ù„ 2-3 Ø£ÙŠØ§Ù…</p>
                            </div>
                            
                            <div class="feature-item">
                                <div class="feature-icon">
                                    <i class="fas fa-shield-alt"></i>
                                </div>
                                <h4>Ø¶Ù…Ø§Ù† Ø§Ù„Ø¬ÙˆØ¯Ø©</h4>
                                <p>Ø¶Ù…Ø§Ù† 30 ÙŠÙˆÙ… Ù„Ù„Ø¥Ø±Ø¬Ø§Ø¹</p>
                            </div>
                            
                            <div class="feature-item">
                                <div class="feature-icon">
                                    <i class="fas fa-headset"></i>
                                </div>
                                <h4>Ø¯Ø¹Ù… ÙÙ†ÙŠ</h4>
                                <p>Ø¯Ø¹Ù… Ø¹Ù„Ù‰ Ù…Ø¯Ø§Ø± Ø§Ù„Ø³Ø§Ø¹Ø©</p>
                            </div>
                        </div>
                        
                        <div class="share-stats">
                            <div class="stat-item">
                                <span class="stat-number">${product.rating || '--'}</span>
                                <span class="stat-label">Ø§Ù„ØªÙ‚ÙŠÙŠÙ…</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-number">${product.sales || 0}</span>
                                <span class="stat-label">Ø¹Ù…Ù„ÙŠØ© Ø¨ÙŠØ¹</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-number">${product.stock || 0}</span>
                                <span class="stat-label">Ù…ØªÙˆÙØ± ÙÙŠ Ø§Ù„Ù…Ø®Ø²ÙˆÙ†</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-number">${product.discount ? product.discount + '%' : '--'}</span>
                                <span class="stat-label">Ø§Ù„ØªØ®ÙÙŠØ¶</span>
                            </div>
                        </div>
                        
                        ${specificationsHtml}
                        
                        <div class="share-actions">
                            <button class="share-btn btn-whatsapp" onclick="shareOnWhatsApp('${shareText}', '${shareUrl}')">
                                <i class="fab fa-whatsapp"></i>
                                Ù…Ø´Ø§Ø±ÙƒØ© Ø¹Ø¨Ø± ÙˆØ§ØªØ³Ø§Ø¨
                            </button>
                            
                            <button class="share-btn btn-facebook" onclick="shareOnFacebook('${shareUrl}')">
                                <i class="fab fa-facebook"></i>
                                Ù…Ø´Ø§Ø±ÙƒØ© Ø¹Ù„Ù‰ ÙÙŠØ³Ø¨ÙˆÙƒ
                            </button>
                            
                            <button class="share-btn btn-twitter" onclick="shareOnTwitter('${shareText}', '${shareUrl}')">
                                <i class="fab fa-twitter"></i>
                                Ù…Ø´Ø§Ø±ÙƒØ© Ø¹Ù„Ù‰ ØªÙˆÙŠØªØ±
                            </button>
                            
                            <button class="share-btn btn-copy" onclick="copyShareLink('${shareUrl}')">
                                <i class="fas fa-link"></i>
                                Ù†Ø³Ø® Ø±Ø§Ø¨Ø· Ø§Ù„Ù…Ø´Ø§Ø±ÙƒØ©
                            </button>
                            
                            <a href="index.html" class="share-btn btn-visit-store">
                                <i class="fas fa-store"></i>
                                Ø²ÙŠØ§Ø±Ø© Ø§Ù„Ù…ØªØ¬Ø± ÙˆØ§Ù„ØªØ³ÙˆÙ‚ Ø§Ù„Ø¢Ù†
                            </a>
                        </div>
                    </div>
                </div>
            `;
        }

        // Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø£ÙŠÙ‚ÙˆÙ†Ø© Ø§Ù„Ù…Ù†ØªØ¬
        function getProductIcon(category) {
            const icons = {
                'electronics': 'fas fa-laptop',
                'fashion': 'fas fa-tshirt',
                'home': 'fas fa-home',
                'beauty': 'fas fa-spa',
                'sports': 'fas fa-running',
                'books': 'fas fa-book',
                'food': 'fas fa-utensils',
                'health': 'fas fa-heartbeat'
            };
            return icons[category] || 'fas fa-shopping-bag';
        }

        // Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø§Ø³Ù… Ø§Ù„ØªØµÙ†ÙŠÙ
        function getCategoryName(category) {
            const categories = {
                'electronics': 'Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ§Øª',
                'fashion': 'Ù…ÙˆØ¶Ø©',
                'home': 'Ø§Ù„Ù…Ù†Ø²Ù„',
                'beauty': 'Ø§Ù„Ø¬Ù…Ø§Ù„',
                'sports': 'Ø±ÙŠØ§Ø¶Ø©',
                'books': 'ÙƒØªØ¨',
                'food': 'Ø·Ø¹Ø§Ù…',
                'health': 'ØµØ­Ø©'
            };
            return categories[category] || category;
        }

        // Ù…Ø´Ø§Ø±ÙƒØ© Ø¹Ù„Ù‰ ÙˆØ§ØªØ³Ø§Ø¨
        function shareOnWhatsApp(text, url) {
            const shareUrl = `https://wa.me/?text=${encodeURIComponent(text + ' ' + url)}`;
            window.open(shareUrl, '_blank', 'width=600,height=400');
        }

        // Ù…Ø´Ø§Ø±ÙƒØ© Ø¹Ù„Ù‰ ÙÙŠØ³Ø¨ÙˆÙƒ
        function shareOnFacebook(url) {
            const shareUrl = `https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(url)}`;
            window.open(shareUrl, '_blank', 'width=600,height=400');
        }

        // Ù…Ø´Ø§Ø±ÙƒØ© Ø¹Ù„Ù‰ ØªÙˆÙŠØªØ±
        function shareOnTwitter(text, url) {
            const shareUrl = `https://twitter.com/intent/tweet?text=${encodeURIComponent(text)}&url=${encodeURIComponent(url)}`;
            window.open(shareUrl, '_blank', 'width=600,height=400');
        }

        // Ù†Ø³Ø® Ø±Ø§Ø¨Ø· Ø§Ù„Ù…Ø´Ø§Ø±ÙƒØ©
        function copyShareLink(url) {
            navigator.clipboard.writeText(url).then(() => {
                alert('âœ… ØªÙ… Ù†Ø³Ø® Ø±Ø§Ø¨Ø· Ø§Ù„Ù…Ø´Ø§Ø±ÙƒØ© Ø¥Ù„Ù‰ Ø§Ù„Ø­Ø§ÙØ¸Ø©');
            }).catch(() => {
                // Fallback for older browsers
                const tempInput = document.createElement('input');
                tempInput.value = url;
                document.body.appendChild(tempInput);
                tempInput.select();
                document.execCommand('copy');
                document.body.removeChild(tempInput);
                alert('âœ… ØªÙ… Ù†Ø³Ø® Ø±Ø§Ø¨Ø· Ø§Ù„Ù…Ø´Ø§Ø±ÙƒØ© Ø¥Ù„Ù‰ Ø§Ù„Ø­Ø§ÙØ¸Ø©');
            });
        }

        // Ø¹Ø±Ø¶ Ø­Ø§Ù„Ø© Ø§Ù„Ø®Ø·Ø£
        function showErrorState(message) {
            document.getElementById('shareContent').innerHTML = `
                <div class="error-state">
                    <i class="fas fa-exclamation-triangle"></i>
                    <h2>Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ø§Ù„Ù…Ù†ØªØ¬</h2>
                    <p>${message}</p>
                    <a href="index.html" class="share-btn btn-visit-store" style="display: inline-block; margin-top: 20px;">
                        <i class="fas fa-store"></i>
                        Ø§Ù„Ø¹ÙˆØ¯Ø© Ø¥Ù„Ù‰ Ø§Ù„Ù…ØªØ¬Ø±
                    </a>
                </div>
            `;
        }

        // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ù†ØªØ¬ Ø¹Ù†Ø¯ ÙØªØ­ Ø§Ù„ØµÙØ­Ø©
        document.addEventListener('DOMContentLoaded', loadSharedProduct);
    </script>
</body>
</html>
